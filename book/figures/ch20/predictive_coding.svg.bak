<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="800" height="600" fill="#f9f9f9"/>
  
  <!-- Title -->
  <text x="400" y="40" font-family="Arial" font-size="24" font-weight="bold" text-anchor="middle">Predictive Coding in Neuroscience and AI</text>
  <text x="400" y="70" font-family="Arial" font-size="16" text-anchor="middle">Comparison of Prediction-Based Processing</text>
  
  <!-- Main Sections -->
  <!-- Neuroscience Side -->
  <rect x="50" y="100" width="300" height="380" rx="10" ry="10" fill="#ffcccc" fill-opacity="0.2" stroke="#cc0000" stroke-width="2"/>
  <text x="200" y="125" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#cc0000">Brain Predictive Coding</text>
  
  <!-- AI Side -->
  <rect x="450" y="100" width="300" height="380" rx="10" ry="10" fill="#ccccff" fill-opacity="0.2" stroke="#0066cc" stroke-width="2"/>
  <text x="600" y="125" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#0066cc">AI Predictive Models</text>
  
  <!-- Brain Diagram (Simplified) -->
  <ellipse cx="200" cy="200" rx="120" ry="60" fill="#ffcccc" fill-opacity="0.5" stroke="#cc0000" stroke-width="1.5"/>
  <text x="200" y="185" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">Visual Cortex</text>
  <text x="200" y="205" font-family="Arial" font-size="12" text-anchor="middle">Hierarchical Prediction</text>
  
  <!-- Higher/Lower areas -->
  <ellipse cx="200" cy="150" rx="80" ry="25" fill="#ffcccc" fill-opacity="0.7" stroke="#cc0000" stroke-width="1"/>
  <text x="200" y="155" font-family="Arial" font-size="12" text-anchor="middle">Higher Areas (V4, IT)</text>
  
  <ellipse cx="200" cy="245" rx="80" ry="25" fill="#ffcccc" fill-opacity="0.7" stroke="#cc0000" stroke-width="1"/>
  <text x="200" y="250" font-family="Arial" font-size="12" text-anchor="middle">Lower Areas (V1, V2)</text>
  
  <!-- Predictive Arrows -->
  <line x1="200" y1="175" x2="200" y2="220" stroke="#cc0000" stroke-width="2"/>
  <polygon points="195,215 200,225 205,215" fill="#cc0000"/>
  <text x="220" y="205" font-family="Arial" font-size="10" text-anchor="start">Predictions</text>
  
  <line x1="180" y1="220" x2="180" y2="175" stroke="#cc0000" stroke-width="2" stroke-dasharray="5,5"/>
  <polygon points="175,180 180,170 185,180" fill="#cc0000"/>
  <text x="150" y="205" font-family="Arial" font-size="10" text-anchor="end">Prediction Errors</text>
  
  <!-- Machine Learning Model -->
  <rect x="520" y="160" width="160" height="100" fill="#ccccff" fill-opacity="0.5" stroke="#0066cc" stroke-width="1.5"/>
  <text x="600" y="175" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">Predictive Network</text>
  
  <!-- Layers in NN -->
  <rect x="540" y="190" width="120" height="20" fill="#ccccff" fill-opacity="0.7" stroke="#0066cc" stroke-width="1"/>
  <text x="600" y="205" font-family="Arial" font-size="12" text-anchor="middle">Higher Layer Features</text>
  
  <rect x="540" y="220" width="120" height="20" fill="#ccccff" fill-opacity="0.7" stroke="#0066cc" stroke-width="1"/>
  <text x="600" y="235" font-family="Arial" font-size="12" text-anchor="middle">Lower Layer Features</text>
  
  <!-- Predictive Arrows in NN -->
  <line x1="600" y1="210" x2="600" y2="220" stroke="#0066cc" stroke-width="2"/>
  <polygon points="595,215 600,225 605,215" fill="#0066cc"/>
  <text x="620" y="215" font-family="Arial" font-size="10" text-anchor="start">Top-down</text>
  
  <line x1="580" y1="220" x2="580" y2="210" stroke="#0066cc" stroke-width="2" stroke-dasharray="5,5"/>
  <polygon points="575,215 580,205 585,215" fill="#0066cc"/>
  <text x="560" y="215" font-family="Arial" font-size="10" text-anchor="end">Bottom-up</text>
  
  <!-- Principles Section Brain -->
  <rect x="80" y="290" width="240" height="160" rx="5" ry="5" fill="#f9f9f9" stroke="#cc0000" stroke-width="1.5"/>
  <text x="200" y="310" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">Key Neural Principles</text>
  
  <rect x="90" y="325" width="220" height="20" fill="#ffcccc" fill-opacity="0.3" stroke="none"/>
  <text x="100" y="340" font-family="Arial" font-size="12" text-anchor="start">• Top-down expectations</text>
  
  <rect x="90" y="350" width="220" height="20" fill="#ffcccc" fill-opacity="0.3" stroke="none"/>
  <text x="100" y="365" font-family="Arial" font-size="12" text-anchor="start">• Bottom-up error signals</text>
  
  <rect x="90" y="375" width="220" height="20" fill="#ffcccc" fill-opacity="0.3" stroke="none"/>
  <text x="100" y="390" font-family="Arial" font-size="12" text-anchor="start">• Minimizing "surprisal"</text>
  
  <rect x="90" y="400" width="220" height="20" fill="#ffcccc" fill-opacity="0.3" stroke="none"/>
  <text x="100" y="415" font-family="Arial" font-size="12" text-anchor="start">• Free energy principle</text>
  
  <!-- Principles Section AI -->
  <rect x="480" y="290" width="240" height="160" rx="5" ry="5" fill="#f9f9f9" stroke="#0066cc" stroke-width="1.5"/>
  <text x="600" y="310" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">AI Implementation</text>
  
  <rect x="490" y="325" width="220" height="20" fill="#ccccff" fill-opacity="0.3" stroke="none"/>
  <text x="500" y="340" font-family="Arial" font-size="12" text-anchor="start">• PredNet architecture</text>
  
  <rect x="490" y="350" width="220" height="20" fill="#ccccff" fill-opacity="0.3" stroke="none"/>
  <text x="500" y="365" font-family="Arial" font-size="12" text-anchor="start">• Skip connections</text>
  
  <rect x="490" y="375" width="220" height="20" fill="#ccccff" fill-opacity="0.3" stroke="none"/>
  <text x="500" y="390" font-family="Arial" font-size="12" text-anchor="start">• Variational autoencoders</text>
  
  <rect x="490" y="400" width="220" height="20" fill="#ccccff" fill-opacity="0.3" stroke="none"/>
  <text x="500" y="415" font-family="Arial" font-size="12" text-anchor="start">• Generative prediction</text>
  
  <!-- Center Connection -->
  <rect x="350" y="225" width="100" height="130" rx="10" ry="10" fill="#9966cc" fill-opacity="0.2" stroke="#9966cc" stroke-width="2"/>
  <text x="400" y="245" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Shared Concepts</text>
  
  <line x1="320" y1="250" x2="350" y2="250" stroke="#9966cc" stroke-width="1"/>
  <line x1="450" y1="250" x2="480" y2="250" stroke="#9966cc" stroke-width="1"/>
  
  <text x="400" y="270" font-family="Arial" font-size="10" text-anchor="middle">• Hierarchical processing</text>
  <text x="400" y="290" font-family="Arial" font-size="10" text-anchor="middle">• Error minimization</text>
  <text x="400" y="310" font-family="Arial" font-size="10" text-anchor="middle">• Generative models</text>
  <text x="400" y="330" font-family="Arial" font-size="10" text-anchor="middle">• Efficient coding</text>
  
  <!-- Applications -->
  <rect x="100" y="500" width="600" height="60" rx="10" ry="10" fill="#f9f9f9" stroke="#9966cc" stroke-width="2"/>
  <text x="400" y="520" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">Applications</text>
  
  <rect x="120" y="530" width="160" height="20" rx="5" ry="5" fill="#ffcccc" fill-opacity="0.3" stroke="#cc0000" stroke-width="1"/>
  <text x="200" y="545" font-family="Arial" font-size="12" text-anchor="middle">Visual Scene Understanding</text>
  
  <rect x="320" y="530" width="160" height="20" rx="5" ry="5" fill="#9966cc" fill-opacity="0.3" stroke="#9966cc" stroke-width="1"/>
  <text x="400" y="545" font-family="Arial" font-size="12" text-anchor="middle">Video Prediction</text>
  
  <rect x="520" y="530" width="160" height="20" rx="5" ry="5" fill="#ccccff" fill-opacity="0.3" stroke="#0066cc" stroke-width="1"/>
  <text x="600" y="545" font-family="Arial" font-size="12" text-anchor="middle">Anomaly Detection</text>
  
  <!-- Figure Caption -->
  <text x="400" y="580" font-family="Arial" font-size="12" text-anchor="middle">Figure 20.2: Parallel implementation of predictive coding principles in neuroscience and AI models</text>
</svg>